- name: 🏗️ Deploy ImageOrchestrator
  run: |
    cd functions/ImageOrchestrator
    dotnet publish -c Release -o ./publish
    cd publish
    zip -r ../orchestrator-deploy.zip .
    az functionapp deploy --resource-group photo-upload-rg --name photo-orchestrator --src-path "../orchestrator-deploy.zip" --type zip

- name: 🏗️ Deploy ImageWorkers
  run: |
    cd functions/ImageWorkers
    dotnet publish -c Release -o ./publish
    cd publish
    zip -r ../workers-deploy.zip .
    az functionapp deploy --resource-group photo-upload-rg --name photo-workers --src-path "../workers-deploy.zip" --type zip
